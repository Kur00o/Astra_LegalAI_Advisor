(()=>{var e={};e.id=105,e.ids=[105],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},6110:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},7252:e=>{"use strict";e.exports=require("express")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},14283:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},14985:e=>{"use strict";e.exports=require("dns")},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19185:e=>{"use strict";e.exports=require("dgram")},19771:e=>{"use strict";e.exports=require("process")},20880:(e,t,r)=>{"use strict";r.d(t,{j:()=>c});var s=r(91199);r(42087);var a=r(95427),i=r(37612),n=r(33331);let o=i.z.object({role:i.z.enum(["user","assistant","tool"]),content:i.z.string(),filePreview:i.z.string().optional(),fileName:i.z.string().optional(),name:i.z.string().optional()}),l=i.z.object({query:i.z.string().describe("The user's current question or message."),jurisdiction:i.z.string().describe("The legal jurisdiction to consider for the response."),documentDataUri:i.z.string().optional().describe("An optional document or image file provided by the user for context, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'."),history:i.z.array(o).describe("The history of the conversation so far.")});async function c(e){return{response:await u(e)}}i.z.object({response:i.z.string().describe("The AI's response to the user's query.")});let d=a.ai.definePrompt({name:"legalChatbotPrompt",input:{schema:l},prompt:`You are an expert attorney providing legal advice. Your goal is to give direct, actionable answers to the user's questions based on the provided context. Do not include disclaimers about not being a lawyer.

  Your response must be tailored to the laws and regulations of the following jurisdiction: {{{jurisdiction}}}.
  
  Current time: ${new Date().toISOString()}

  Conversation History:
  {{#each history}}
  {{#if name}}
  Tool Response ({{name}}): {{content}}
  {{else}}
  {{role}}: {{content}}
  {{/if}}
  {{/each}}
  
  Current User Query: {{{query}}}
  {{#if documentDataUri}}
  The user has also provided the following file for context:
  {{media url=documentDataUri}}
  {{/if}}

  Please provide a direct and clear legal response to the current user query, respecting the laws of {{{jurisdiction}}}.
  `}),u=a.ai.defineFlow({name:"legalChatbotFlow",inputSchema:l,outputSchema:i.z.string()},async e=>(await d(e)).text);(0,n.D)([c]),(0,s.A)(c,"40cf9d4cfda40c0ec778e15e13463e3f84b105d7b9",null)},21655:(e,t,r)=>{Promise.resolve().then(r.bind(r,80559))},21820:e=>{"use strict";e.exports=require("os")},22327:e=>{"use strict";e.exports=require("node:https")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30807:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"40c9fb4713d50e1227aa27c1ff8b5b2c9703d7087b":()=>c,"40cf9d4cfda40c0ec778e15e13463e3f84b105d7b9":()=>p.j});var s=r(91199);r(42087);var a=r(95427),i=r(37612),n=r(33331);let o=i.z.object({documentText:i.z.string().describe("The text content of the legal document to analyze."),jurisdiction:i.z.string().describe("The legal jurisdiction to consider for the analysis.")}),l=i.z.object({clauseAnalysis:i.z.array(i.z.object({clause:i.z.string().describe("The specific legal clause being analyzed."),riskLevel:i.z.enum(["low","medium","high"]).describe("The risk level associated with this clause."),explanation:i.z.string().describe("An explanation of the potential risks or unusual terms in the clause.")})).describe("An analysis of the legal clauses in the document.")});async function c(e){return u(e)}let d=a.ai.definePrompt({name:"analyzeLegalClausesPrompt",input:{schema:o},output:{schema:l},prompt:`You are an AI legal assistant specializing in analyzing legal clauses to identify potential risks or unusual terms.

  Your analysis must be tailored to the laws and regulations of the following jurisdiction: {{{jurisdiction}}}.

  Analyze the following legal document and identify potentially risky or unusual clauses. For each clause, determine the risk level (low, medium, or high) and provide a detailed explanation based on the specified jurisdiction.

  Document Text: {{{documentText}}}
  `}),u=a.ai.defineFlow({name:"analyzeLegalClausesFlow",inputSchema:o,outputSchema:l},async e=>{let{output:t}=await d(e);return t});(0,n.D)([c]),(0,s.A)(c,"40c9fb4713d50e1227aa27c1ff8b5b2c9703d7087b",null);var p=r(20880)},33873:e=>{"use strict";e.exports=require("path")},34559:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eR});var s=r(60687),a=r(43210),i=r(72624),n=r(29523),o=r(44493),l=r(6475);let c=(0,l.createServerReference)("40c9fb4713d50e1227aa27c1ff8b5b2c9703d7087b",l.callServer,void 0,l.findSourceMapURL,"analyzeLegalClauses");var d=r(51349),u=r(82614);let p=(0,u.A)("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);var m=r(41936);let h=(0,u.A)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),x=(0,u.A)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),f=(0,u.A)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);var b=r(6110),y=r(11516),g=r(14283),v=r(85866),j=r(96834),w=r(4780),N=r(11273),A=r(9510),k=r(98599),q=r(70569),R=r(65551),C=r(14163),z=r(66156),S=r(46059),T=r(96963),_="Collapsible",[D,P]=(0,N.A)(_),[I,M]=D(_),E=a.forwardRef((e,t)=>{let{__scopeCollapsible:r,open:i,defaultOpen:n,disabled:o,onOpenChange:l,...c}=e,[d,u]=(0,R.i)({prop:i,defaultProp:n??!1,onChange:l,caller:_});return(0,s.jsx)(I,{scope:r,disabled:o,contentId:(0,T.B)(),open:d,onOpenToggle:a.useCallback(()=>u(e=>!e),[u]),children:(0,s.jsx)(C.sG.div,{"data-state":B(d),"data-disabled":o?"":void 0,...c,ref:t})})});E.displayName=_;var L="CollapsibleTrigger",F=a.forwardRef((e,t)=>{let{__scopeCollapsible:r,...a}=e,i=M(L,r);return(0,s.jsx)(C.sG.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":B(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...a,ref:t,onClick:(0,q.mK)(e.onClick,i.onOpenToggle)})});F.displayName=L;var U="CollapsibleContent",$=a.forwardRef((e,t)=>{let{forceMount:r,...a}=e,i=M(U,e.__scopeCollapsible);return(0,s.jsx)(S.C,{present:r||i.open,children:({present:e})=>(0,s.jsx)(G,{...a,ref:t,present:e})})});$.displayName=U;var G=a.forwardRef((e,t)=>{let{__scopeCollapsible:r,present:i,children:n,...o}=e,l=M(U,r),[c,d]=a.useState(i),u=a.useRef(null),p=(0,k.s)(t,u),m=a.useRef(0),h=m.current,x=a.useRef(0),f=x.current,b=l.open||c,y=a.useRef(b),g=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,z.N)(()=>{let e=u.current;if(e){g.current=g.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();m.current=t.height,x.current=t.width,y.current||(e.style.transitionDuration=g.current.transitionDuration,e.style.animationName=g.current.animationName),d(i)}},[l.open,i]),(0,s.jsx)(C.sG.div,{"data-state":B(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!b,...o,ref:p,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":f?`${f}px`:void 0,...e.style},children:b&&n})});function B(e){return e?"open":"closed"}var H=r(43),O="Accordion",K=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Y,V,Z]=(0,A.N)(O),[W,Q]=(0,N.A)(O,[Z,P]),X=P(),J=a.forwardRef((e,t)=>{let{type:r,...a}=e;return(0,s.jsx)(Y.Provider,{scope:e.__scopeAccordion,children:"multiple"===r?(0,s.jsx)(ei,{...a,ref:t}):(0,s.jsx)(ea,{...a,ref:t})})});J.displayName=O;var[ee,et]=W(O),[er,es]=W(O,{collapsible:!1}),ea=a.forwardRef((e,t)=>{let{value:r,defaultValue:i,onValueChange:n=()=>{},collapsible:o=!1,...l}=e,[c,d]=(0,R.i)({prop:r,defaultProp:i??"",onChange:n,caller:O});return(0,s.jsx)(ee,{scope:e.__scopeAccordion,value:a.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:a.useCallback(()=>o&&d(""),[o,d]),children:(0,s.jsx)(er,{scope:e.__scopeAccordion,collapsible:o,children:(0,s.jsx)(el,{...l,ref:t})})})}),ei=a.forwardRef((e,t)=>{let{value:r,defaultValue:i,onValueChange:n=()=>{},...o}=e,[l,c]=(0,R.i)({prop:r,defaultProp:i??[],onChange:n,caller:O}),d=a.useCallback(e=>c((t=[])=>[...t,e]),[c]),u=a.useCallback(e=>c((t=[])=>t.filter(t=>t!==e)),[c]);return(0,s.jsx)(ee,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:u,children:(0,s.jsx)(er,{scope:e.__scopeAccordion,collapsible:!0,children:(0,s.jsx)(el,{...o,ref:t})})})}),[en,eo]=W(O),el=a.forwardRef((e,t)=>{let{__scopeAccordion:r,disabled:i,dir:n,orientation:o="vertical",...l}=e,c=a.useRef(null),d=(0,k.s)(c,t),u=V(r),p="ltr"===(0,H.jH)(n),m=(0,q.mK)(e.onKeyDown,e=>{if(!K.includes(e.key))return;let t=e.target,r=u().filter(e=>!e.ref.current?.disabled),s=r.findIndex(e=>e.ref.current===t),a=r.length;if(-1===s)return;e.preventDefault();let i=s,n=a-1,l=()=>{(i=s+1)>n&&(i=0)},c=()=>{(i=s-1)<0&&(i=n)};switch(e.key){case"Home":i=0;break;case"End":i=n;break;case"ArrowRight":"horizontal"===o&&(p?l():c());break;case"ArrowDown":"vertical"===o&&l();break;case"ArrowLeft":"horizontal"===o&&(p?c():l());break;case"ArrowUp":"vertical"===o&&c()}let d=i%a;r[d].ref.current?.focus()});return(0,s.jsx)(en,{scope:r,disabled:i,direction:n,orientation:o,children:(0,s.jsx)(Y.Slot,{scope:r,children:(0,s.jsx)(C.sG.div,{...l,"data-orientation":o,ref:d,onKeyDown:i?void 0:m})})})}),ec="AccordionItem",[ed,eu]=W(ec),ep=a.forwardRef((e,t)=>{let{__scopeAccordion:r,value:a,...i}=e,n=eo(ec,r),o=et(ec,r),l=X(r),c=(0,T.B)(),d=a&&o.value.includes(a)||!1,u=n.disabled||e.disabled;return(0,s.jsx)(ed,{scope:r,open:d,disabled:u,triggerId:c,children:(0,s.jsx)(E,{"data-orientation":n.orientation,"data-state":eg(d),...l,...i,ref:t,disabled:u,open:d,onOpenChange:e=>{e?o.onItemOpen(a):o.onItemClose(a)}})})});ep.displayName=ec;var em="AccordionHeader",eh=a.forwardRef((e,t)=>{let{__scopeAccordion:r,...a}=e,i=eo(O,r),n=eu(em,r);return(0,s.jsx)(C.sG.h3,{"data-orientation":i.orientation,"data-state":eg(n.open),"data-disabled":n.disabled?"":void 0,...a,ref:t})});eh.displayName=em;var ex="AccordionTrigger",ef=a.forwardRef((e,t)=>{let{__scopeAccordion:r,...a}=e,i=eo(O,r),n=eu(ex,r),o=es(ex,r),l=X(r);return(0,s.jsx)(Y.ItemSlot,{scope:r,children:(0,s.jsx)(F,{"aria-disabled":n.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:n.triggerId,...l,...a,ref:t})})});ef.displayName=ex;var eb="AccordionContent",ey=a.forwardRef((e,t)=>{let{__scopeAccordion:r,...a}=e,i=eo(O,r),n=eu(eb,r),o=X(r);return(0,s.jsx)($,{role:"region","aria-labelledby":n.triggerId,"data-orientation":i.orientation,...o,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function eg(e){return e?"open":"closed"}ey.displayName=eb;let ev=(0,u.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ej=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(ep,{ref:r,className:(0,w.cn)("border-b",e),...t}));ej.displayName="AccordionItem";let ew=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsx)(eh,{className:"flex",children:(0,s.jsxs)(ef,{ref:a,className:(0,w.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,(0,s.jsx)(ev,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ew.displayName=ef.displayName;let eN=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsx)(ey,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:(0,s.jsx)("div",{className:(0,w.cn)("pb-4 pt-0",e),children:t})}));eN.displayName=ey.displayName;var eA=r(34729),ek=r(42692),eq=r(16189);function eR(){let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[u,N]=(0,a.useState)(!1),[A,k]=(0,a.useState)(null),[q,R]=(0,a.useState)(null),[C,z]=(0,a.useState)(""),[S,T]=(0,a.useState)(!1),[_,D]=(0,a.useState)([{role:"assistant",content:"I'm here to help with questions about your document. Ask me anything!"}]),[P,I]=(0,a.useState)(["analysis"]),[M,E]=(0,a.useState)(null),L=(0,eq.useRouter)(),[F,U]=(0,a.useState)({left:66,right:34}),[$,G]=(0,a.useState)(40),B=(0,a.useRef)(!1),H=(0,a.useRef)(!1),O=(0,a.useRef)(null),K=(0,a.useRef)(null),Y=(0,a.useRef)(null),V=(0,a.useCallback)(e=>{let r=e[0];if(r)if("text/plain"===r.type||r.name.endsWith(".txt")){l(r.name);let e=new FileReader;e.onload=e=>{let r=e.target?.result;t(r),R(null),ee(r)},e.onerror=()=>{R("Failed to read the file. Please try another file."),l(""),t("")},e.readAsText(r)}else R("Unsupported file type. Please upload a .txt file.")},[M]),{getRootProps:Z,getInputProps:W,isDragActive:Q,open:X}=(0,i.VB)({onDrop:V,noClick:!0,noKeyboard:!0,accept:{"text/plain":[".txt"]}}),ee=async e=>{if(!e.trim())return void R("The document is empty.");if(!M)return void R("Please select a jurisdiction first.");N(!0),R(null),k(null);try{let t=await c({documentText:e,jurisdiction:M.name});k(t)}catch(e){R("An error occurred during analysis. Please try again."),console.error(e)}finally{N(!1)}},et=async()=>{let e=window.getSelection()?.toString().trim();e&&e.length>10&&(localStorage.setItem("deepSearchQuery",e),L.push("/dashboard/deep-search"))},er=()=>{setTimeout(()=>{let e=Y.current?.firstChild?.firstChild;e&&(e.scrollTop=e.scrollHeight)},100)},es=async()=>{if(!C.trim()||!e.trim()||!M)return;let t=[..._,{role:"user",content:C}];D(t),z(""),T(!0),er();try{let r=await (0,d.j)({query:C,history:t.slice(0,-1),documentDataUri:`data:text/plain;base64,${btoa(e)}`,jurisdiction:M.name});D(e=>[...e,{role:"assistant",content:r.response}])}catch(e){console.error(e),D(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{T(!1),er()}},ea=e=>{switch(e){case"low":return"bg-green-100 text-green-800 border-green-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"high":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ei=e=>{if(B.current&&O.current){let t=O.current.getBoundingClientRect(),r=(e.clientX-t.left)/t.width*100;r>25&&r<75&&U({left:r,right:100-r})}},en=()=>{B.current=!1,document.removeEventListener("mousemove",ei),document.removeEventListener("mouseup",en)},eo=e=>{if(H.current&&K.current){let t=K.current.getBoundingClientRect(),r=(t.bottom-e.clientY)/t.height*100;r>20&&r<80&&G(r)}},el=()=>{H.current=!1,document.removeEventListener("mousemove",eo),document.removeEventListener("mouseup",el)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("header",{className:"flex items-center justify-between p-4 border-b bg-background",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold font-serif",children:"Document Workspace"}),(0,s.jsx)("div",{className:"flex items-center gap-4"})]}),(0,s.jsxs)("main",{ref:O,className:"flex-1 flex min-h-0 p-4 bg-secondary gap-1",children:[(0,s.jsx)("div",{style:{width:`${F.left}%`},children:(0,s.jsxs)(o.Zp,{className:"h-full flex flex-col min-h-0 shadow-sm",children:[(0,s.jsxs)(o.aR,{className:"flex-row items-center justify-between p-3 border-b",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm font-medium",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{className:"h-5 w-5 text-primary"}),(0,s.jsx)("span",{children:r})]}):(0,s.jsx)("span",{className:"text-muted-foreground",children:"No document uploaded"})}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(n.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(m.A,{className:"h-5 w-5"})}),(0,s.jsx)(n.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(h,{className:"h-5 w-5"})}),(0,s.jsx)("span",{className:"text-sm font-semibold px-2",children:"100%"}),(0,s.jsx)(n.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(x,{className:"h-5 w-5"})}),(0,s.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>{k(null),D([{role:"assistant",content:"I'm here to help with questions about your document. Ask me anything!"}])},children:(0,s.jsx)(f,{className:"h-5 w-5"})}),(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:X,children:[(0,s.jsx)(b.A,{className:"mr-2 h-4 w-4"})," New Document"]})]})]}),(0,s.jsx)(o.Wu,{className:"flex-1 p-2 mt-2 min-h-0",children:(0,s.jsx)(ek.F,{className:"h-full",children:(0,s.jsxs)("div",{...Z(),className:(0,w.cn)("h-full w-full rounded-lg",Q&&"border-primary border-dashed border-2 bg-primary/5"),children:[(0,s.jsx)("input",{...W()}),e?(0,s.jsx)("div",{onMouseUp:et,className:"p-6 whitespace-pre-wrap text-sm leading-relaxed",children:e}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground p-8 min-h-[500px]",onClick:X,children:[(0,s.jsx)(b.A,{className:"h-16 w-16 mb-4 text-primary/50"}),(0,s.jsx)("h3",{className:"text-lg font-semibold font-serif",children:"Upload your document"}),(0,s.jsx)("p",{className:"text-sm",children:"Drag and drop a .txt file here or click to select a file."}),Q&&(0,s.jsx)("p",{className:"text-primary mt-2",children:"Drop the file to upload!"})]})]})})})]})}),(0,s.jsx)("div",{className:"w-2 cursor-col-resize bg-border hover:bg-primary transition-colors",onMouseDown:e=>{e.preventDefault(),B.current=!0,document.addEventListener("mousemove",ei),document.addEventListener("mouseup",en)}}),(0,s.jsxs)("div",{ref:K,style:{width:`${F.right}%`},className:"flex flex-col min-h-0",children:[(0,s.jsx)("div",{style:{height:`${100-$}%`},children:(0,s.jsx)(ek.F,{className:"h-full",children:(0,s.jsxs)("div",{className:"p-4 pl-5",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4 font-serif",children:"Document Tools"}),(0,s.jsx)(J,{type:"multiple",className:"w-full space-y-3",value:P,onValueChange:I,children:(0,s.jsx)(o.Zp,{className:"shadow-sm",children:(0,s.jsxs)(ej,{value:"analysis",className:"border-none",children:[(0,s.jsx)(ew,{className:"p-4 font-semibold text-base hover:no-underline",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(p,{className:"h-5 w-5"})," Document Analysis"]})}),(0,s.jsx)(eN,{className:"px-4 pb-4",children:u&&!A?(0,s.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,s.jsx)(y.A,{className:"h-6 w-6 animate-spin text-primary"})}):A?(0,s.jsx)("div",{className:"space-y-3",children:A.clauseAnalysis.map((e,t)=>(0,s.jsxs)("div",{className:"p-3 border rounded-md bg-secondary",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h4",{className:"font-semibold text-sm",children:"Clause Analysis"}),(0,s.jsxs)(j.E,{variant:"outline",className:(0,w.cn)("text-xs border font-medium",ea(e.riskLevel)),children:[e.riskLevel.charAt(0).toUpperCase()+e.riskLevel.slice(1)," Risk"]})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground italic mb-2",children:['"',e.clause,'"']}),(0,s.jsx)("p",{className:"text-xs",children:e.explanation})]},t))}):(0,s.jsx)("div",{className:"text-center text-muted-foreground text-sm p-4",children:(0,s.jsx)("p",{children:"Upload a document to analyze clauses for risks."})})})]})})})]})})}),(0,s.jsx)("div",{className:"h-2 cursor-row-resize bg-border hover:bg-primary transition-colors",onMouseDown:e=>{e.preventDefault(),H.current=!0,document.addEventListener("mousemove",eo),document.addEventListener("mouseup",el)}}),(0,s.jsx)("div",{style:{height:`${$}%`},className:"flex flex-col min-h-0",children:(0,s.jsxs)("div",{className:"p-4 pl-5 border-t flex-1 flex flex-col min-h-0",children:[(0,s.jsxs)("h3",{className:"text-base font-semibold mb-2 flex items-center gap-2 font-serif",children:[(0,s.jsx)(g.A,{className:"h-5 w-5"})," Document Assistant"]}),(0,s.jsxs)(o.Zp,{className:"p-3 shadow-sm flex flex-col flex-1 min-h-0",children:[(0,s.jsx)(ek.F,{className:"flex-1 pr-2 -mr-2",ref:Y,children:(0,s.jsxs)("div",{className:"space-y-4",children:[_.map((e,t)=>(0,s.jsxs)("div",{className:(0,w.cn)("flex items-start gap-2","user"===e.role&&"justify-end"),children:["assistant"===e.role&&(0,s.jsx)(g.A,{className:"h-5 w-5 text-primary flex-shrink-0 mt-1"}),(0,s.jsx)("div",{className:(0,w.cn)("rounded-lg p-2 text-sm max-w-[90%]","user"===e.role?"bg-primary text-primary-foreground":"bg-secondary"),children:e.content})]},t)),S&&(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(g.A,{className:"h-5 w-5 text-primary flex-shrink-0 mt-1"}),(0,s.jsx)("div",{className:"rounded-lg p-2 text-sm bg-secondary flex items-center",children:(0,s.jsx)(y.A,{className:"h-4 w-4 animate-spin"})})]})]})}),(0,s.jsxs)("div",{className:"mt-2 relative",children:[(0,s.jsx)(eA.T,{placeholder:"Ask about this document...",className:"bg-background pr-10 text-sm",rows:2,value:C,onChange:e=>z(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),es())}}),(0,s.jsx)(n.$,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8",onClick:es,disabled:!C.trim()||!e.trim()||S||!M,children:(0,s.jsx)(v.A,{className:"h-4 w-4"})})]})]})]})})]})]})]})}},34631:e=>{"use strict";e.exports=require("tls")},34729:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var s=r(60687),a=r(43210),i=r(4780);let n=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));n.displayName="Textarea"},37067:e=>{"use strict";e.exports=require("node:http")},37830:e=>{"use strict";e.exports=require("node:stream/web")},51349:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var s=r(6475);let a=(0,s.createServerReference)("40cf9d4cfda40c0ec778e15e13463e3f84b105d7b9",s.callServer,void 0,s.findSourceMapURL,"legalChatbot")},54379:e=>{"use strict";e.exports=require("node:path")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57730:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80559)),"/home/user/ASTRA/ASTRA-main/src/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,63144)),"/home/user/ASTRA/ASTRA-main/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/home/user/ASTRA/ASTRA-main/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/user/ASTRA/ASTRA-main/src/app/dashboard/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74799:(e,t,r)=>{Promise.resolve().then(r.bind(r,34559))},74998:e=>{"use strict";e.exports=require("perf_hooks")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},80559:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/ASTRA/ASTRA-main/src/app/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/ASTRA/ASTRA-main/src/app/dashboard/page.tsx","default")},81630:e=>{"use strict";e.exports=require("http")},84297:e=>{"use strict";e.exports=require("async_hooks")},85866:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96834:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var s=r(60687);r(43210);var a=r(24224),i=r(4780);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:(0,i.cn)(n({variant:t}),e),...r})}},96963:(e,t,r)=>{"use strict";r.d(t,{B:()=>l});var s,a=r(43210),i=r(66156),n=(s||(s=r.t(a,2)))[" useId ".trim().toString()]||(()=>void 0),o=0;function l(e){let[t,r]=a.useState(n());return(0,i.N)(()=>{e||r(e=>e??String(o++))},[e]),e||(t?`radix-${t}`:"")}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,94,567,64,509,572,448],()=>r(57730));module.exports=s})();