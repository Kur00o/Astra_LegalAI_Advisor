exports.id=448,exports.ids=[448],exports.modules={797:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var t=a(60687),r=a(43210),l=a(85814),i=a.n(l),n=a(16189),o=a(29523),d=a(44493),c=a(82850),m=a(41936),u=a(51212),h=a(2093),f=a(8563),x=a(35211),p=a(58369),N=a(58595),b=a(49497),j=a(4780),v=a(4165);a(31836);var g=a(42692),w=a(35265);function y(){let[e,s]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),i=(0,n.usePathname)(),d=(0,n.useRouter)();return(0,t.jsxs)("div",{className:"flex flex-col h-full bg-slate-100/40 dark:bg-slate-800/40 p-2",children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsxs)(o.$,{onClick:()=>{d.push("/dashboard/legal-chatbot")},className:"w-full justify-start",children:[(0,t.jsx)(w.A,{className:"mr-2 h-4 w-4"})," New Chat"]})}),(0,t.jsx)("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider px-2 py-1",children:"Recent Chats"}),(0,t.jsx)(g.F,{className:"flex-1",children:(0,t.jsx)("div",{className:"space-y-1 p-1",children:a?(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Loading..."}):e.map(e=>(0,t.jsx)(o.$,{variant:i.includes(e.id)?"secondary":"ghost",className:"w-full justify-start text-sm truncate",onClick:()=>d.push(`/dashboard/legal-chatbot?id=${e.id}`),children:e.title},e.id))})})]})}function A({children:e}){let[s,a]=(0,r.useState)(256),l=(0,r.useRef)(!1),g=(0,n.usePathname)(),w=(0,n.useRouter)(),[A,R]=(0,r.useState)(null),C=e=>{if(l.current){let s=e.clientX;s>200&&s<500&&a(s)}},E=()=>{l.current=!1,document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",E)},L=[{href:"/dashboard",label:"Document Analysis",description:"Review and analyze documents",icon:c.A},{href:"/dashboard/deep-search",label:"DeepSearch",description:"Search across legal databases",icon:m.A},{href:"/dashboard/legal-chatbot",label:"Legal Question",description:"Ask context-aware questions",icon:u.A},{href:"/dashboard/optimization-assistant",label:"Optimization",description:"Optimize clause language",icon:h.A}];return(0,t.jsxs)("div",{className:"flex h-screen bg-secondary",children:[(0,t.jsxs)("nav",{className:"flex-col bg-background p-4 hidden md:flex relative",style:{width:`${s}px`},children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(i(),{href:"/",children:(0,t.jsx)(v.A,{className:"h-20"})})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col space-y-2 overflow-y-auto",children:[L.map(e=>(0,t.jsx)(i(),{href:e.href,children:(0,t.jsxs)(o.$,{variant:"ghost",className:(0,j.cn)("w-full justify-start items-start text-base py-3 h-auto",g===e.href&&"bg-secondary"),children:[(0,t.jsx)(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex flex-col items-start text-left",children:[(0,t.jsx)("span",{children:e.label}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:e.description})]})]})},e.href)),"/dashboard/legal-chatbot"===g&&(0,t.jsx)("div",{className:"mt-4 flex-1 flex flex-col border-t pt-2",children:(0,t.jsx)(y,{})})]}),(0,t.jsxs)("div",{className:"mt-auto space-y-2",children:[A&&(0,t.jsx)(d.Zp,{className:"p-3 bg-secondary",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jurisdiction"}),(0,t.jsx)("p",{className:"font-semibold text-sm",children:A.name})]}),(0,t.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>w.push("/jurisdiction"),children:(0,t.jsx)(x.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(o.$,{variant:"ghost",className:"w-full justify-start",children:[(0,t.jsx)(p.A,{className:"mr-3 h-5 w-5"}),"Settings"]}),(0,t.jsxs)(o.$,{variant:"ghost",className:"w-full justify-start",children:[(0,t.jsx)(N.A,{className:"mr-3 h-5 w-5"}),"Account"]}),(0,t.jsx)(i(),{href:"/login",children:(0,t.jsxs)(o.$,{variant:"ghost",className:"w-full justify-start",children:[(0,t.jsx)(b.A,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})]}),(0,t.jsx)("div",{className:"w-2 cursor-col-resize bg-border hover:bg-primary transition-colors hidden md:block",onMouseDown:e=>{e.preventDefault(),l.current=!0,document.addEventListener("mousemove",C),document.addEventListener("mouseup",E)}}),(0,t.jsx)("div",{className:"flex-1 flex flex-col min-h-0 bg-background",children:e})]})}},14472:(e,s,a)=>{Promise.resolve().then(a.bind(a,63144))},31836:(e,s,a)=>{"use strict";a.d(s,{F1:()=>i,J6:()=>o,QL:()=>c,QM:()=>m,cK:()=>n,cL:()=>d});var t=a(75535),r=a(70146),l=a(33784);let i=async e=>{let s=(0,t.H9)(l.db,"users",e.uid),a={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL};(await (0,t.x7)(s)).exists()||(a.createdAt=(0,t.O5)()),await (0,t.BN)(s,a,{merge:!0})},n=async(e,s)=>{let a=l.j.currentUser;if(!a)throw Error("User not authenticated");return await i(a),(await (0,t.gS)((0,t.rJ)(l.db,"conversations"),{userId:a.uid,title:e,createdAt:(0,t.O5)(),messages:[{sender:"user",content:s.content,fileUrl:s.fileUrl||null,fileName:s.fileName||null,timestamp:(0,t.O5)()}]})).id},o=async(e,s,a,r,i)=>{let n=(0,t.H9)(l.db,"conversations",e),o=await (0,t.x7)(n);if(o.exists()){let e=o.data().messages||[],l={sender:s,content:a,fileUrl:r||null,fileName:i||null,timestamp:(0,t.O5)()};await (0,t.mZ)(n,{messages:[...e,l]})}else console.error("Conversation not found")},d=async()=>{let e=l.j.currentUser;if(!e)throw Error("User not authenticated");let s=(0,t.P)((0,t.rJ)(l.db,"conversations"),(0,t._M)("userId","==",e.uid)),a=await (0,t.GG)(s),r=[];return a.forEach(e=>{r.push({id:e.id,...e.data()})}),r},c=async e=>{let s=(0,t.H9)(l.db,"conversations",e),a=await (0,t.x7)(s);return a.exists()?{id:a.id,...a.data()}:null},m=async e=>{let s=l.j.currentUser;if(!s)throw Error("User not authenticated");await i(s);let a=(0,r.KR)(l.I,`users/${s.uid}/uploads/${e.name}`);return await (0,r.D)(a,e),await (0,r.qk)(a)}},33784:(e,s,a)=>{"use strict";a.d(s,{I:()=>m,db:()=>c,j:()=>d});var t=a(67989),r=a(3745),l=a(75535),i=a(70146);let n={apiKey:"AIzaSyBAMr0BnZr4L4KcZNphCIdFjSMon1GJagI",authDomain:"astra-b3592.firebaseapp.com",projectId:"astra-b3592",storageBucket:"astra-b3592.appspot.com",messagingSenderId:"954855225931",appId:"1:954855225931:web:724f79a1a1860951a52bce",measurementId:process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,databaseURL:process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL},o=(0,t.Dk)().length?(0,t.Sx)():(0,t.Wp)(n),d=(0,r.xI)(o),c=(0,l.aU)(o),m=(0,i.c7)(o)},42692:(e,s,a)=>{"use strict";a.d(s,{F:()=>n});var t=a(60687),r=a(43210),l=a(24772),i=a(4780);let n=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(l.bL,{ref:r,className:(0,i.cn)("relative overflow-hidden",e),...a,children:[(0,t.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,t.jsx)(o,{}),(0,t.jsx)(l.OK,{})]}));n.displayName=l.bL.displayName;let o=r.forwardRef(({className:e,orientation:s="vertical",...a},r)=>(0,t.jsx)(l.VM,{ref:r,orientation:s,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...a,children:(0,t.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})}));o.displayName=l.VM.displayName},44493:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>n});var t=a(60687),r=a(43210),l=a(4780);let i=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground",e),...s}));i.displayName="Card";let n=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let o=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},47002:e=>{function s(e){var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}s.keys=()=>[],s.resolve=s,s.id=47002,e.exports=s},63144:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/ASTRA/ASTRA-main/src/app/dashboard/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/ASTRA/ASTRA-main/src/app/dashboard/layout.tsx","default")},78024:(e,s,a)=>{Promise.resolve().then(a.bind(a,797))},95427:(e,s,a)=>{"use strict";a.d(s,{ai:()=>l});var t=a(37612),r=a(52205);let l=(0,t.genkit)({plugins:[(0,r.YF)()],model:"googleai/gemini-2.0-flash"})}};