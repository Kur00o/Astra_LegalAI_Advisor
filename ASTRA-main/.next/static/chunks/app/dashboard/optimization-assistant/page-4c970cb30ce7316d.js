(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{285:(e,r,t)=>{"use strict";t.d(r,{$:()=>o,r:()=>d});var s=t(5155),a=t(2115),l=t(9708),n=t(2085),i=t(9434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,r)=>{let{className:t,variant:a,size:n,asChild:o=!1,onPress:c,isDisabled:m,onFocusChange:u,...f}=e,x=o?l.DX:"button";return(0,s.jsx)(x,{className:(0,i.cn)(d({variant:a,size:n,className:t})),ref:r,onClick:c,disabled:m,...f})});o.displayName="Button"},1706:(e,r,t)=>{Promise.resolve().then(t.bind(t,3134))},2523:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var s=t(5155),a=t(2115),l=t(9434);let n=a.forwardRef((e,r)=>{let{className:t,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n})});n.displayName="Input"},3134:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>_});var s=t(5155),a=t(2115),l=t(1046),n=t(285),i=t(6695),d=t(4477);let o=(0,d.createServerReference)("40dec1e62c3bf355370db7187baf390a2f8e11ed08",d.callServer,void 0,d.findSourceMapURL,"optimizationAssistant"),c=(0,d.createServerReference)("007037cfbe200353f742e76e7685669e072649ab02",d.callServer,void 0,d.findSourceMapURL,"getLawyers"),m=(0,d.createServerReference)("009ae292b198a38d7eb94bba333f8054473347b4af",d.callServer,void 0,d.findSourceMapURL,"resetAssignments");var u=t(172),f=t(157);let x=(0,f.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var h=t(5074),p=t(1949);let g=(0,f.A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var v=t(9829),b=t(6923),y=t(5300),j=t(5318),N=t(9434);let w=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,N.cn)("w-full caption-bottom text-sm",t),...a})})});w.displayName="Table";let k=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("thead",{ref:r,className:(0,N.cn)("[&_tr]:border-b",t),...a})});k.displayName="TableHeader";let A=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("tbody",{ref:r,className:(0,N.cn)("[&_tr:last-child]:border-0",t),...a})});A.displayName="TableBody",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("tfoot",{ref:r,className:(0,N.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a})}).displayName="TableFooter";let R=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("tr",{ref:r,className:(0,N.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a})});R.displayName="TableRow";let C=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("th",{ref:r,className:(0,N.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a})});C.displayName="TableHead";let S=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("td",{ref:r,className:(0,N.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a})});S.displayName="TableCell",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("caption",{ref:r,className:(0,N.cn)("mt-4 text-sm text-muted-foreground",t),...a})}).displayName="TableCaption";var T=t(5365),L=t(6126),F=t(2523);function _(){let[e,r]=(0,a.useState)([]),[t,d]=(0,a.useState)([]),[f,N]=(0,a.useState)(!1),[_,z]=(0,a.useState)(!1),[B,E]=(0,a.useState)(null),[M,D]=(0,a.useState)(null),[Z,U]=(0,a.useState)(""),[P,H]=(0,a.useState)(void 0),W=async()=>{try{let e=await c();d(e)}catch(e){D("Failed to fetch lawyer data."),console.error(e)}};(0,a.useEffect)(()=>{W()},[]);let $=(0,a.useCallback)(e=>{D(null);let t=[],s=[];e.forEach(e=>{if("text/plain"===e.type||e.name.endsWith(".txt")){let r=new FileReader,a=new Promise((s,a)=>{r.onload=r=>{var a;let l=null==(a=r.target)?void 0:a.result;t.push({id:e.name,name:e.name,text:l}),s()},r.onerror=r=>{console.error("Failed to read file:",e.name,r),a()}});r.readAsText(e),s.push(a)}else D(r=>(r?"".concat(r,"\n"):"")+"Unsupported file type: ".concat(e.name,". Please upload .txt files only."))}),Promise.all(s).then(()=>{r(e=>[...e,...t])})},[]),{getRootProps:O,getInputProps:V,isDragActive:X}=(0,l.VB)({onDrop:$,accept:{"text/plain":[".txt"]}}),q=e=>{r(r=>r.filter(r=>r.id!==e))},I=async()=>{if(0===e.length)return void D("Please upload at least one document.");N(!0),E(null),D(null);try{let t=await o({documents:e});E(t),await W(),r([])}catch(e){D("An error occurred during optimization. Please check the AI configuration and try again."),console.error(e)}finally{N(!1)}},K=async()=>{z(!0),D(null);try{await m(),await W(),E(null),H(void 0)}catch(e){D("Failed to reset assignments."),console.error(e)}finally{z(!1)}},Q=()=>{if(!Z.trim())return void H(void 0);H(t.find(e=>e.name.toLowerCase()===Z.trim().toLowerCase())||null)};return(0,s.jsxs)("main",{className:"flex flex-col h-full bg-secondary p-4 md:p-8 space-y-8",children:[(0,s.jsxs)(i.Zp,{className:"shadow-lg",children:[(0,s.jsxs)(i.aR,{className:"flex-row justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.ZB,{className:"font-serif text-xl flex items-center gap-3",children:"Lawyer Workload"}),(0,s.jsx)(i.BT,{children:"Enter a lawyer's name to view their current document assignments."})]}),(0,s.jsxs)(n.$,{onClick:K,disabled:_,variant:"outline",size:"sm",children:[_?(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(x,{className:"mr-2 h-4 w-4"}),"Reset All Assignments"]})]}),(0,s.jsxs)(i.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex w-full max-w-sm items-center space-x-2",children:[(0,s.jsx)(F.p,{type:"text",placeholder:"Lawyer's name...",value:Z,onChange:e=>U(e.target.value),onKeyDown:e=>"Enter"===e.key&&Q()}),(0,s.jsxs)(n.$,{type:"button",onClick:Q,children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Search"]})]}),void 0===P&&(0,s.jsx)("div",{className:"text-center text-muted-foreground text-sm py-8",children:(0,s.jsx)("p",{children:"Search for a lawyer to see their workload."})}),null===P&&(0,s.jsxs)(T.Fc,{variant:"destructive",className:"max-w-sm",children:[(0,s.jsx)(p.A,{className:"h-4 w-4"}),(0,s.jsx)(T.XL,{children:"Not Found"}),(0,s.jsx)(T.TN,{children:"No lawyer found with that name."})]}),P&&(0,s.jsxs)(i.Zp,{className:"max-w-sm bg-background",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsxs)(i.ZB,{className:"flex items-center gap-3",children:[(0,s.jsx)(g,{})," ",P.name]}),(0,s.jsx)(i.BT,{children:(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:Array.from(P.expertise).map(e=>(0,s.jsx)(L.E,{variant:"secondary",children:e.replace("_"," ")},e))})})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Currently Assigned Documents:"}),(0,s.jsx)("p",{className:"font-bold text-4xl",children:P.assigned_docs})]})})]})]})]}),(0,s.jsxs)(i.Zp,{className:"w-full mx-auto shadow-lg",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsxs)(i.ZB,{className:"font-serif text-xl flex items-center gap-3",children:[(0,s.jsx)(v.A,{className:"h-6 w-6"}),"Optimization Assistant"]}),(0,s.jsx)(i.BT,{children:"Upload one or more documents to automatically identify their legal domains and assign them to the best-suited lawyers."})]}),(0,s.jsxs)(i.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{...O(),className:"flex flex-col items-center justify-center p-10 border-2 border-dashed rounded-lg cursor-pointer transition-colors ".concat(X?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[(0,s.jsx)("input",{...V()}),(0,s.jsx)(b.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground text-center",children:"Drag & drop .txt documents here, or click to select files."})]}),e.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("h4",{className:"font-medium text-sm",children:["Staged Files (",e.length,"):"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:e.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 border rounded-md bg-secondary",children:[(0,s.jsx)(y.A,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,s.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>q(e.id),children:(0,s.jsx)(j.A,{className:"h-4 w-4"})})]},e.id))})]}),(0,s.jsx)("div",{className:"flex justify-center border-t pt-6",children:(0,s.jsxs)(n.$,{onClick:I,disabled:f||0===e.length,size:"lg",children:[f?(0,s.jsx)(u.A,{className:"mr-2 h-5 w-5 animate-spin"}):(0,s.jsx)(v.A,{className:"mr-2 h-5 w-5"}),"Optimize ",e.length>0?"".concat(e.length," Document(s)"):"Assignment"]})}),M&&(0,s.jsxs)(T.Fc,{variant:"destructive",children:[(0,s.jsx)(p.A,{className:"h-4 w-4"}),(0,s.jsx)(T.XL,{children:"Error"}),(0,s.jsx)(T.TN,{children:M})]}),f?(0,s.jsxs)("div",{className:"text-center text-muted-foreground py-10 flex flex-col items-center gap-4",children:[(0,s.jsx)(u.A,{className:"h-10 w-10 animate-spin text-primary"}),(0,s.jsx)("p",{children:"Analyzing documents and optimizing assignments..."})]}):B?(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-xl mb-4 font-serif text-center",children:"Assignment Results"}),(0,s.jsxs)(w,{children:[(0,s.jsx)(k,{children:(0,s.jsxs)(R,{children:[(0,s.jsx)(C,{children:"File"}),(0,s.jsx)(C,{children:"Identified Domain"}),(0,s.jsx)(C,{children:"Assigned To"}),(0,s.jsx)(C,{children:"Lawyer's New Load"})]})}),(0,s.jsx)(A,{children:B.assignments.map((e,r)=>(0,s.jsxs)(R,{children:[(0,s.jsx)(S,{className:"font-medium",children:e.fileName}),(0,s.jsx)(S,{className:"capitalize",children:e.docDomain.replace("_"," ")}),(0,s.jsx)(S,{children:e.lawyerName}),(0,s.jsxs)(S,{children:[e.newLoad," documents"]})]},r))})]})]}):0===e.length&&(0,s.jsx)("div",{className:"text-center text-muted-foreground text-sm py-10",children:(0,s.jsx)("p",{children:"Upload documents to begin."})})]})]})]})}},5365:(e,r,t)=>{"use strict";t.d(r,{Fc:()=>d,TN:()=>c,XL:()=>o});var s=t(5155),a=t(2115),l=t(2085),n=t(9434);let i=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,...l}=e;return(0,s.jsx)("div",{ref:r,role:"alert",className:(0,n.cn)(i({variant:a}),t),...l})});d.displayName="Alert";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h5",{ref:r,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",t),...a})});o.displayName="AlertTitle";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",t),...a})});c.displayName="AlertDescription"},6126:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var s=t(5155);t(2115);var a=t(2085),l=t(9434);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)(n({variant:t}),r),...a})}},6695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i});var s=t(5155),a=t(2115),l=t(9434);let n=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground",t),...a})});n.displayName="Card";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},6923:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(157).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},9434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>l});var s=t(2596),a=t(9688);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},9829:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(157).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[352,507,756,441,684,358],()=>r(1706)),_N_E=e.O()}]);