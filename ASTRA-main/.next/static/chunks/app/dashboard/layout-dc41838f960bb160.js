(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{285:(e,s,t)=>{"use strict";t.d(s,{$:()=>d,r:()=>c});var a=t(5155),r=t(2115),l=t(9708),n=t(2085),i=t(9434);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:d=!1,onPress:o,isDisabled:u,onFocusChange:m,...h}=e,f=d?l.DX:"button";return(0,a.jsx)(f,{className:(0,i.cn)(c({variant:r,size:n,className:t})),ref:s,onClick:o,disabled:u,...h})});d.displayName="Button"},988:(e,s,t)=>{"use strict";t.d(s,{F1:()=>n,J6:()=>c,QL:()=>o,QM:()=>u,cK:()=>i,cL:()=>d});var a=t(5317),r=t(858),l=t(6104);let n=async e=>{let s=(0,a.H9)(l.db,"users",e.uid),t={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL};(await (0,a.x7)(s)).exists()||(t.createdAt=(0,a.O5)()),await (0,a.BN)(s,t,{merge:!0})},i=async(e,s)=>{let t=l.j.currentUser;if(!t)throw Error("User not authenticated");return await n(t),(await (0,a.gS)((0,a.rJ)(l.db,"conversations"),{userId:t.uid,title:e,createdAt:(0,a.O5)(),messages:[{sender:"user",content:s.content,fileUrl:s.fileUrl||null,fileName:s.fileName||null,timestamp:(0,a.O5)()}]})).id},c=async(e,s,t,r,n)=>{let i=(0,a.H9)(l.db,"conversations",e),c=await (0,a.x7)(i);if(c.exists()){let e=c.data().messages||[],l={sender:s,content:t,fileUrl:r||null,fileName:n||null,timestamp:(0,a.O5)()};await (0,a.mZ)(i,{messages:[...e,l]})}else console.error("Conversation not found")},d=async()=>{let e=l.j.currentUser;if(!e)throw Error("User not authenticated");let s=(0,a.P)((0,a.rJ)(l.db,"conversations"),(0,a._M)("userId","==",e.uid)),t=await (0,a.GG)(s),r=[];return t.forEach(e=>{r.push({id:e.id,...e.data()})}),r},o=async e=>{let s=(0,a.H9)(l.db,"conversations",e),t=await (0,a.x7)(s);return t.exists()?{id:t.id,...t.data()}:null},u=async e=>{let s=l.j.currentUser;if(!s)throw Error("User not authenticated");await n(s);let t=(0,r.KR)(l.I,"users/".concat(s.uid,"/uploads/").concat(e.name));return await (0,r.D)(t,e),await (0,r.qk)(t)}},4637:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(5155),r=t(9434);let l=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300.000000 171.000000",preserveAspectRatio:"xMidYMid meet",role:"img","aria-labelledby":"title desc",...e,children:[(0,a.jsx)("title",{id:"title",children:"Greek pillar icon"}),(0,a.jsx)("desc",{id:"desc",children:"Minimal Greek pillar / column with capital, fluted shaft, and base"}),(0,a.jsxs)("g",{transform:"translate(0.000000,171.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none",children:[(0,a.jsx)("path",{d:"M670 1065 c0 -13 29 -15 200 -15 171 0 200 2 200 15 0 13 -29 15 -200 15 -171 0 -200 -2 -200 -15z"}),(0,a.jsx)("path",{d:"M642 1007 c-27 -28 -28 -68 -4 -90 22 -20 63 -22 80 -5 15 15 15 51 0 66 -21 21 -30 13 -23 -19 6 -28 5 -30 -16 -27 -27 3 -37 32 -19 53 18 22 402 22 420 0 18 -21 8 -50 -19 -53 -21 -3 -22 -1 -16 28 5 24 4 31 -6 28 -46 -15 -30 -88 20 -88 59 0 83 66 38 108 -22 21 -32 22 -228 22 -202 0 -206 0 -227 -23z"}),(0,a.jsx)("path",{d:"M750 973 c0 -10 31 -13 120 -13 89 0 120 3 120 13 0 9 -31 12 -120 12 -89 0 -120 -3 -120 -12z"}),(0,a.jsx)("path",{d:"M1343 933 c-4 -10 -32 -75 -64 -145 -47 -105 -54 -128 -40 -128 10 0 24 15 34 35 l17 35 75 0 75 0 14 -35 c8 -19 22 -35 30 -35 9 0 16 3 16 8 0 4 -28 69 -62 145 -60 131 -81 158 -95 120z m55 -105 l31 -68 -64 0 -64 0 23 53 c12 28 26 61 30 71 8 23 6 26 44 -56z"}),(0,a.jsx)("path",{d:"M1566 929 c-27 -21 -34 -56 -17 -87 5 -10 36 -30 69 -46 66 -31 82 -58 55 -88 -25 -27 -77 -23 -102 8 -20 26 -41 25 -41 -1 0 -26 51 -55 97 -55 33 0 50 6 68 25 46 45 27 98 -47 130 -77 34 -101 72 -59 95 30 15 55 12 79 -10 25 -23 42 -26 42 -6 0 23 -50 56 -85 56 -18 0 -44 -9 -59 -21z"}),(0,a.jsx)("path",{d:"M1740 928 c0 -14 9 -18 40 -18 l40 0 0 -125 c0 -104 2 -125 15 -125 13 0 15 21 15 128 l0 128 40 -4 c34 -3 40 -1 40 14 0 17 -9 19 -95 19 -84 0 -95 -2 -95 -17z"}),(0,a.jsx)("path",{d:"M1974 941 c-2 -2 -4 -67 -4 -143 0 -133 1 -138 21 -138 18 0 20 5 18 53 l-3 52 32 2 c29 1 37 -5 69 -53 23 -34 43 -54 55 -54 17 0 15 6 -16 49 -20 27 -36 52 -36 56 0 4 11 16 26 27 21 17 25 27 22 66 -4 62 -33 83 -117 85 -35 1 -65 0 -67 -2z m147 -52 c32 -51 -21 -108 -91 -97 -20 3 -22 9 -22 58 0 30 0 58 1 61 2 11 103 -8 112 -22z"}),(0,a.jsx)("path",{d:"M2308 903 c-11 -26 -40 -90 -64 -142 -24 -52 -44 -96 -44 -97 0 -2 9 -4 19 -4 13 0 23 11 31 35 l12 35 78 0 79 0 12 -35 c8 -22 20 -35 31 -35 10 0 18 1 18 3 0 16 -128 281 -138 285 -7 2 -21 -16 -34 -45z m62 -65 c14 -35 27 -66 28 -70 2 -5 -24 -8 -58 -8 -46 0 -61 3 -57 13 4 6 16 38 29 69 13 32 25 58 28 58 3 0 16 -28 30 -62z"}),(0,a.jsx)("path",{d:"M750 775 l0 -165 -25 0 c-16 0 -25 -6 -25 -15 0 -13 26 -15 170 -15 144 0 170 2 170 15 0 9 -9 15 -25 15 l-25 0 0 165 0 165 -120 0 -120 0 0 -165z m210 -15 l0 -150 -90 0 -90 0 0 150 0 150 90 0 90 0 0 -150z"}),(0,a.jsx)("path",{d:"M830 896 c-1 -3 -1 -66 -1 -138 -1 -105 2 -133 13 -133 18 0 19 266 1 273 -7 2 -13 1 -13 -2z"}),(0,a.jsx)("path",{d:"M890 759 c0 -108 3 -140 13 -137 8 3 13 42 15 135 2 110 0 132 -13 137 -13 5 -15 -13 -15 -135z"}),(0,a.jsx)("path",{d:"M670 545 c0 -13 29 -15 200 -15 171 0 200 2 200 15 0 13 -29 15 -200 15 -171 0 -200 -2 -200 -15z"})]})]});function n(e){let{className:s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("flex items-center gap-2 text-primary",s),children:(0,a.jsx)(l,{className:"h-full w-auto text-current"})})}},5149:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var a=t(5155),r=t(2115),l=t(6874),n=t.n(l),i=t(5695),c=t(285),d=t(6695),o=t(2448),u=t(5074),m=t(7724),h=t(9829),f=t(7679),x=t(3755),p=t(8271),v=t(1721),g=t(3349),j=t(9434),b=t(4637),N=t(988),w=t(6424),y=t(4301);function z(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),n=(0,i.usePathname)(),d=(0,i.useRouter)();return(0,r.useEffect)(()=>{!async function(){try{let e=await (0,N.cL)();s(e)}catch(e){console.error("Failed to fetch conversations:",e)}l(!1)}()},[n]),(0,a.jsxs)("div",{className:"flex flex-col h-full bg-slate-100/40 dark:bg-slate-800/40 p-2",children:[(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsxs)(c.$,{onClick:()=>{d.push("/dashboard/legal-chatbot")},className:"w-full justify-start",children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"})," New Chat"]})}),(0,a.jsx)("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider px-2 py-1",children:"Recent Chats"}),(0,a.jsx)(w.F,{className:"flex-1",children:(0,a.jsx)("div",{className:"space-y-1 p-1",children:t?(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Loading..."}):e.map(e=>(0,a.jsx)(c.$,{variant:n.includes(e.id)?"secondary":"ghost",className:"w-full justify-start text-sm truncate",onClick:()=>d.push("/dashboard/legal-chatbot?id=".concat(e.id)),children:e.title},e.id))})})]})}function A(e){let{children:s}=e,[t,l]=(0,r.useState)(256),N=(0,r.useRef)(!1),w=(0,i.usePathname)(),y=(0,i.useRouter)(),[A,k]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("jurisdiction");e?k(JSON.parse(e)):y.push("/jurisdiction")},[y]);let M=e=>{if(N.current){let s=e.clientX;s>200&&s<500&&l(s)}},R=()=>{N.current=!1,document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",R)},E=[{href:"/dashboard",label:"Document Analysis",description:"Review and analyze documents",icon:o.A},{href:"/dashboard/deep-search",label:"DeepSearch",description:"Search across legal databases",icon:u.A},{href:"/dashboard/legal-chatbot",label:"Legal Question",description:"Ask context-aware questions",icon:m.A},{href:"/dashboard/optimization-assistant",label:"Optimization",description:"Optimize clause language",icon:h.A}];return(0,a.jsxs)("div",{className:"flex h-screen bg-secondary",children:[(0,a.jsxs)("nav",{className:"flex-col bg-background p-4 hidden md:flex relative",style:{width:"".concat(t,"px")},children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(n(),{href:"/",children:(0,a.jsx)(b.A,{className:"h-20"})})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col space-y-2 overflow-y-auto",children:[E.map(e=>(0,a.jsx)(n(),{href:e.href,children:(0,a.jsxs)(c.$,{variant:"ghost",className:(0,j.cn)("w-full justify-start items-start text-base py-3 h-auto",w===e.href&&"bg-secondary"),children:[(0,a.jsx)(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex flex-col items-start text-left",children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:e.description})]})]})},e.href)),"/dashboard/legal-chatbot"===w&&(0,a.jsx)("div",{className:"mt-4 flex-1 flex flex-col border-t pt-2",children:(0,a.jsx)(z,{})})]}),(0,a.jsxs)("div",{className:"mt-auto space-y-2",children:[A&&(0,a.jsx)(d.Zp,{className:"p-3 bg-secondary",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Jurisdiction"}),(0,a.jsx)("p",{className:"font-semibold text-sm",children:A.name})]}),(0,a.jsx)(c.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>y.push("/jurisdiction"),children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})]})}),(0,a.jsxs)(c.$,{variant:"ghost",className:"w-full justify-start",children:[(0,a.jsx)(p.A,{className:"mr-3 h-5 w-5"}),"Settings"]}),(0,a.jsxs)(c.$,{variant:"ghost",className:"w-full justify-start",children:[(0,a.jsx)(v.A,{className:"mr-3 h-5 w-5"}),"Account"]}),(0,a.jsx)(n(),{href:"/login",children:(0,a.jsxs)(c.$,{variant:"ghost",className:"w-full justify-start",children:[(0,a.jsx)(g.A,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})]}),(0,a.jsx)("div",{className:"w-2 cursor-col-resize bg-border hover:bg-primary transition-colors hidden md:block",onMouseDown:e=>{e.preventDefault(),N.current=!0,document.addEventListener("mousemove",M),document.addEventListener("mouseup",R)}}),(0,a.jsx)("div",{className:"flex-1 flex flex-col min-h-0 bg-background",children:s})]})}},6104:(e,s,t)=>{"use strict";t.d(s,{I:()=>m,db:()=>u,j:()=>o});var a=t(3915),r=t(3004),l=t(5317),n=t(858),i=t(7358);let c={apiKey:"AIzaSyBAMr0BnZr4L4KcZNphCIdFjSMon1GJagI",authDomain:"astra-b3592.firebaseapp.com",projectId:"astra-b3592",storageBucket:"astra-b3592.appspot.com",messagingSenderId:"954855225931",appId:"1:954855225931:web:724f79a1a1860951a52bce",measurementId:i.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,databaseURL:i.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL},d=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)(c),o=(0,r.xI)(d),u=(0,l.aU)(d),m=(0,n.c7)(d)},6424:(e,s,t)=>{"use strict";t.d(s,{F:()=>i});var a=t(5155),r=t(2115),l=t(9051),n=t(9434);let i=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(l.bL,{ref:s,className:(0,n.cn)("relative overflow-hidden",t),...i,children:[(0,a.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(c,{}),(0,a.jsx)(l.OK,{})]})});i.displayName=l.bL.displayName;let c=r.forwardRef((e,s)=>{let{className:t,orientation:r="vertical",...i}=e;return(0,a.jsx)(l.VM,{ref:s,orientation:r,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...i,children:(0,a.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});c.displayName=l.VM.displayName},6695:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>n,aR:()=>i});var a=t(5155),r=t(2115),l=t(9434);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground",t),...r})});n.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},9434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(2596),r=t(9688);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},9632:(e,s,t)=>{Promise.resolve().then(t.bind(t,5149))}},e=>{var s=s=>e(e.s=s);e.O(0,[992,138,352,874,24,51,186,441,684,358],()=>s(9632)),_N_E=e.O()}]);