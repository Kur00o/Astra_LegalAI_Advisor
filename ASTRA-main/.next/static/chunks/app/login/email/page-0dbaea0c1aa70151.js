(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>o});var a=r(5155),s=r(2115),n=r(9708),i=r(2085),l=r(9434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,onPress:d,isDisabled:u,onFocusChange:f,...p}=e,m=c?n.DX:"button";return(0,a.jsx)(m,{className:(0,l.cn)(o({variant:s,size:i,className:r})),ref:t,onClick:d,disabled:u,...p})});c.displayName="Button"},968:(e,t,r)=>{"use strict";r.d(t,{b:()=>l});var a=r(2115),s=r(3655),n=r(5155),i=a.forwardRef((e,t)=>(0,n.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},988:(e,t,r)=>{"use strict";r.d(t,{F1:()=>i,J6:()=>o,QL:()=>d,QM:()=>u,cK:()=>l,cL:()=>c});var a=r(5317),s=r(858),n=r(6104);let i=async e=>{let t=(0,a.H9)(n.db,"users",e.uid),r={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL};(await (0,a.x7)(t)).exists()||(r.createdAt=(0,a.O5)()),await (0,a.BN)(t,r,{merge:!0})},l=async(e,t)=>{let r=n.j.currentUser;if(!r)throw Error("User not authenticated");return await i(r),(await (0,a.gS)((0,a.rJ)(n.db,"conversations"),{userId:r.uid,title:e,createdAt:(0,a.O5)(),messages:[{sender:"user",content:t.content,fileUrl:t.fileUrl||null,fileName:t.fileName||null,timestamp:(0,a.O5)()}]})).id},o=async(e,t,r,s,i)=>{let l=(0,a.H9)(n.db,"conversations",e),o=await (0,a.x7)(l);if(o.exists()){let e=o.data().messages||[],n={sender:t,content:r,fileUrl:s||null,fileName:i||null,timestamp:(0,a.O5)()};await (0,a.mZ)(l,{messages:[...e,n]})}else console.error("Conversation not found")},c=async()=>{let e=n.j.currentUser;if(!e)throw Error("User not authenticated");let t=(0,a.P)((0,a.rJ)(n.db,"conversations"),(0,a._M)("userId","==",e.uid)),r=await (0,a.GG)(t),s=[];return r.forEach(e=>{s.push({id:e.id,...e.data()})}),s},d=async e=>{let t=(0,a.H9)(n.db,"conversations",e),r=await (0,a.x7)(t);return r.exists()?{id:r.id,...r.data()}:null},u=async e=>{let t=n.j.currentUser;if(!t)throw Error("User not authenticated");await i(t);let r=(0,s.KR)(n.I,"users/".concat(t.uid,"/uploads/").concat(e.name));return await (0,s.D)(r,e),await (0,s.qk)(r)}},2523:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(5155),s=r(2115),n=r(9434);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},3401:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(5155),s=r(2115),n=r(6874),i=r.n(n),l=r(285),o=r(6695),c=r(2523),d=r(5057),u=r(5695),f=r(4637),p=r(3004),m=r(988);function x(){let e=(0,u.useRouter)(),[t,r]=(0,s.useState)(""),[n,x]=(0,s.useState)(""),[h,v]=(0,s.useState)(""),g=(0,p.xI)(),b=async()=>{v("");try{let r=await (0,p.x9)(g,t,n);await (0,m.F1)(r.user),e.push("/jurisdiction")}catch(r){if("auth/user-not-found"===r.code)try{let r=await (0,p.eJ)(g,t,n);await (0,m.F1)(r.user),e.push("/jurisdiction")}catch(e){v(e.message)}else v(r.message)}};return(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-secondary p-4",children:(0,a.jsxs)(o.Zp,{className:"w-full max-w-md mx-auto shadow-lg",children:[(0,a.jsxs)(o.aR,{className:"text-center",children:[(0,a.jsx)(i(),{href:"/",className:"flex items-center justify-center mb-4",children:(0,a.jsx)(f.A,{className:"h-20"})}),(0,a.jsx)(o.ZB,{className:"font-serif text-2xl",children:"Sign In or Create Account"}),(0,a.jsx)(o.BT,{children:"Enter your email and password to continue."})]}),(0,a.jsxs)(o.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)(c.p,{id:"email",type:"email",placeholder:"m@example.com",value:t,onChange:e=>r(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{htmlFor:"password",children:"Password"}),(0,a.jsx)(c.p,{id:"password",type:"password",value:n,onChange:e=>x(e.target.value)})]}),h&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:h}),(0,a.jsx)(l.$,{className:"w-full",onClick:b,children:"Continue"}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsx)(i(),{href:"/login",className:"text-sm font-medium text-primary hover:underline",children:"Back to other sign-in methods"})})]})]})})}},3655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>o,sG:()=>l});var a=r(2115),s=r(7650),n=r(9708),i=r(5155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,n.TL)(`Primitive.${t}`),s=a.forwardRef((e,a)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(s?r:t,{...n,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function o(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},4637:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(5155),s=r(9434);let n=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300.000000 171.000000",preserveAspectRatio:"xMidYMid meet",role:"img","aria-labelledby":"title desc",...e,children:[(0,a.jsx)("title",{id:"title",children:"Greek pillar icon"}),(0,a.jsx)("desc",{id:"desc",children:"Minimal Greek pillar / column with capital, fluted shaft, and base"}),(0,a.jsxs)("g",{transform:"translate(0.000000,171.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none",children:[(0,a.jsx)("path",{d:"M670 1065 c0 -13 29 -15 200 -15 171 0 200 2 200 15 0 13 -29 15 -200 15 -171 0 -200 -2 -200 -15z"}),(0,a.jsx)("path",{d:"M642 1007 c-27 -28 -28 -68 -4 -90 22 -20 63 -22 80 -5 15 15 15 51 0 66 -21 21 -30 13 -23 -19 6 -28 5 -30 -16 -27 -27 3 -37 32 -19 53 18 22 402 22 420 0 18 -21 8 -50 -19 -53 -21 -3 -22 -1 -16 28 5 24 4 31 -6 28 -46 -15 -30 -88 20 -88 59 0 83 66 38 108 -22 21 -32 22 -228 22 -202 0 -206 0 -227 -23z"}),(0,a.jsx)("path",{d:"M750 973 c0 -10 31 -13 120 -13 89 0 120 3 120 13 0 9 -31 12 -120 12 -89 0 -120 -3 -120 -12z"}),(0,a.jsx)("path",{d:"M1343 933 c-4 -10 -32 -75 -64 -145 -47 -105 -54 -128 -40 -128 10 0 24 15 34 35 l17 35 75 0 75 0 14 -35 c8 -19 22 -35 30 -35 9 0 16 3 16 8 0 4 -28 69 -62 145 -60 131 -81 158 -95 120z m55 -105 l31 -68 -64 0 -64 0 23 53 c12 28 26 61 30 71 8 23 6 26 44 -56z"}),(0,a.jsx)("path",{d:"M1566 929 c-27 -21 -34 -56 -17 -87 5 -10 36 -30 69 -46 66 -31 82 -58 55 -88 -25 -27 -77 -23 -102 8 -20 26 -41 25 -41 -1 0 -26 51 -55 97 -55 33 0 50 6 68 25 46 45 27 98 -47 130 -77 34 -101 72 -59 95 30 15 55 12 79 -10 25 -23 42 -26 42 -6 0 23 -50 56 -85 56 -18 0 -44 -9 -59 -21z"}),(0,a.jsx)("path",{d:"M1740 928 c0 -14 9 -18 40 -18 l40 0 0 -125 c0 -104 2 -125 15 -125 13 0 15 21 15 128 l0 128 40 -4 c34 -3 40 -1 40 14 0 17 -9 19 -95 19 -84 0 -95 -2 -95 -17z"}),(0,a.jsx)("path",{d:"M1974 941 c-2 -2 -4 -67 -4 -143 0 -133 1 -138 21 -138 18 0 20 5 18 53 l-3 52 32 2 c29 1 37 -5 69 -53 23 -34 43 -54 55 -54 17 0 15 6 -16 49 -20 27 -36 52 -36 56 0 4 11 16 26 27 21 17 25 27 22 66 -4 62 -33 83 -117 85 -35 1 -65 0 -67 -2z m147 -52 c32 -51 -21 -108 -91 -97 -20 3 -22 9 -22 58 0 30 0 58 1 61 2 11 103 -8 112 -22z"}),(0,a.jsx)("path",{d:"M2308 903 c-11 -26 -40 -90 -64 -142 -24 -52 -44 -96 -44 -97 0 -2 9 -4 19 -4 13 0 23 11 31 35 l12 35 78 0 79 0 12 -35 c8 -22 20 -35 31 -35 10 0 18 1 18 3 0 16 -128 281 -138 285 -7 2 -21 -16 -34 -45z m62 -65 c14 -35 27 -66 28 -70 2 -5 -24 -8 -58 -8 -46 0 -61 3 -57 13 4 6 16 38 29 69 13 32 25 58 28 58 3 0 16 -28 30 -62z"}),(0,a.jsx)("path",{d:"M750 775 l0 -165 -25 0 c-16 0 -25 -6 -25 -15 0 -13 26 -15 170 -15 144 0 170 2 170 15 0 9 -9 15 -25 15 l-25 0 0 165 0 165 -120 0 -120 0 0 -165z m210 -15 l0 -150 -90 0 -90 0 0 150 0 150 90 0 90 0 0 -150z"}),(0,a.jsx)("path",{d:"M830 896 c-1 -3 -1 -66 -1 -138 -1 -105 2 -133 13 -133 18 0 19 266 1 273 -7 2 -13 1 -13 -2z"}),(0,a.jsx)("path",{d:"M890 759 c0 -108 3 -140 13 -137 8 3 13 42 15 135 2 110 0 132 -13 137 -13 5 -15 -13 -15 -135z"}),(0,a.jsx)("path",{d:"M670 545 c0 -13 29 -15 200 -15 171 0 200 2 200 15 0 13 -29 15 -200 15 -171 0 -200 -2 -200 -15z"})]})]});function i(e){let{className:t}=e;return(0,a.jsx)("div",{className:(0,s.cn)("flex items-center gap-2 text-primary",t),children:(0,a.jsx)(n,{className:"h-full w-auto text-current"})})}},5057:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var a=r(5155),s=r(2115),n=r(968),i=r(2085),l=r(9434);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,l.cn)(o(),r),...s})});c.displayName=n.b.displayName},6104:(e,t,r)=>{"use strict";r.d(t,{I:()=>f,db:()=>u,j:()=>d});var a=r(3915),s=r(3004),n=r(5317),i=r(858),l=r(7358);let o={apiKey:"AIzaSyBAMr0BnZr4L4KcZNphCIdFjSMon1GJagI",authDomain:"astra-b3592.firebaseapp.com",projectId:"astra-b3592",storageBucket:"astra-b3592.appspot.com",messagingSenderId:"954855225931",appId:"1:954855225931:web:724f79a1a1860951a52bce",measurementId:l.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,databaseURL:l.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL},c=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)(o),d=(0,s.xI)(c),u=(0,n.aU)(c),f=(0,i.c7)(c)},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>l});var a=r(5155),s=r(2115),n=r(9434);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},9081:(e,t,r)=>{Promise.resolve().then(r.bind(r,3401))},9249:(e,t,r)=>{"use strict";r.d(t,{Cl:()=>a,Tt:()=>s,fX:()=>i,sH:()=>n});var a=function(){return(a=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function n(e,t,r,a){return new(r||(r=Promise))(function(s,n){function i(e){try{o(a.next(e))}catch(e){n(e)}}function l(e){try{o(a.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(i,l)}o((a=a.apply(e,t||[])).next())})}Object.create;function i(e,t,r){if(r||2==arguments.length)for(var a,s=0,n=t.length;s<n;s++)!a&&s in t||(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}Object.create,"function"==typeof SuppressedError&&SuppressedError},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,138,352,874,24,441,684,358],()=>t(9081)),_N_E=e.O()}]);